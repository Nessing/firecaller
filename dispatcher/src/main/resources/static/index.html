<!doctype html>

<html ng-app="app">

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>

    <script src="script.js"></script>
</head>

<body>
    <div class="container" ng-controller="indexController">

        <h1 class="m-2">Список пожарных частей</h1>

        <div class="div-table_background" ng-repeat="stationAndSquare in getAllTeamOfFireStation">
            <div>
                <a class="btn btn-danger div_table_left-button" ng-href="/fire_station/fire_station.html?id={{stationAndSquare.fireStation.id}}"></a>
            </div>
            <div class="div-table_right">
                <table class="table table-hover fire-station-table">
                    <div class="fire-station-name">
                        <h4>{{stationAndSquare.fireStation.name}}</h4>
                        <h4>{{stationAndSquare.fireStation.shortName}}</h4>
                    </div>
                    <thead>
                    <tr>
                        <td>Отделение</td>
                        <td>Машина</td>
                        <td>Статус</td>
                        <td>Локация</td>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="square in stationAndSquare.squares">
                        <td>{{square.team.name}}</td>
                        <td>{{square.car.name}}</td>
                        <td>
                            <span class="status-of-team"
                                  ng-class="{'status-of-team_calm': square.status.name == 'calm',
                                  'status-of-team_on-the-way': square.status.name == 'on_the_way',
                                  'status-of-team_on-the-destination': square.status.name == 'on_the_destination'}">
                                {{square.status.title}}
                            </span>
                        </td>
                        <td>{{square.location}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="div_bottom_btn">
            <div class="m-2">
                <a class="btn btn-success m-2"  ng-href="/add_employee/add_employee.html">Добавить сотрудника</a>
            </div>

            <div class="m-2">
                <a class="btn btn-success m-2" ng-href="/edit_position_and_rank/edit_position_and_rank.html">Редактировать список должностей</a>
            </div>

            <div class="m-2">
                <a class="btn btn-success m-2"  ng-href="/add_car/add_car.html">Добавить машину</a>
            </div>
        </div>
    </div>
</body>
</html>